<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Контекст</title>
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../css/header.css">
    <link rel="stylesheet" href="../../../css/content.css">
    <link rel="stylesheet" href="../../../libraries/prism.css">
    <link rel="stylesheet" href="../../../libraries/font-awesome/css/font-awesome.css">

    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>

    <script src="../../../libraries/prism.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="../../../libraries/header.js"></script>
</head>
<body>

<section class="nav-bar">
    <div class="nav-container">
        <div class="brand">
            <a href="index.html"><img src="../../../images/react-logo.png">Теория</a>
        </div>
        <nav>
            <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
            <ul class="nav-list">
                <li>
                    <a href="../../../index.html">Главная</a>
                </li>
                <li>
                    <a href="../../../labs.html">Лабораторные работы</a>
                </li>
                <li>
                    <a href="../../../theory.html">Теория</a>
                </li>
                <li>
                    <a href="../../../info.html">Справочник</a>
                </li>
            </ul>
        </nav>
    </div>
</section>
<div id="delimiter"></div>

<div class="content">

    <p class="section">Контекст</p>

    <p>Контекст обеспечивает способ передачи данных через дерево компонентов без необходимости передавать свойства
        вручную на каждом уровне.</p>

    <p>В типичном приложении React данные передаются сверху вниз (от родителя к потомку) через свойства
        <mark>props</mark>
        .
        Однако это может оказаться громоздким для определенных типов свойств (тема UI; предпочтения, связанные с
        локалью),
        которые требуются для многих компонентов в приложении. Контекст предоставляет способ совместного использования
        таких значений между компонентами без необходимости явно передавать свойство через каждый уровень дерева.
    </p>

    <p class="section">Когда следует использовать контекст?</p>

    <p>Контекст разработан для совместного использования данных, которые можно рассматривать «глобальными» для дерева
        React компонентов, например таких как текущий аутентифицированный пользователь, тема или предпочтительный язык.
        В приведенном ниже коде мы вручную передаем свойство «theme», чтобы стилизовать компонент
        <mark>Button</mark>
        :
    </p>

    <pre class="line-numbers"><code class="language-jsx">
      class App extends React.Component {
        render() {
          return &lt;Toolbar theme="dark" />;
        }
      }

      function Toolbar(props) {
        // Компонент Toolbar должен принимать дополнительное свойство "theme"
        // и передавать его в компонент ThemedButton. Это может стать настоящей головной болью
        // если каждая отдельная кнопка в приложении нуждается в значении свойства theme,
        // потому что оно должно быть передано через все компоненты.
        return (
          &lt;div>
            &lt;ThemedButton theme={props.theme} />
          &lt;/div>
        );
      }

      function ThemedButton(props) {
        return &lt;Button theme={props.theme} />;
      }
    </code></pre>

    <p>Используя контекст, мы можем избежать передачи свойств через промежуточные элементы:</p>

    <pre class="line-numbers"><code class="language-jsx">
        // Контекст позволяет нам передавать значение глубоко в дерево компонентов
        // без его явной передачи через каждый компонент.
        // Создайте контекст для текущей темы (значение "light" по умолчанию).
      const ThemeContext = React.createContext('light');

      class App extends React.Component {
        render() {
          // Используйте Provider, чтобы передать текущую тему вглубь дерева.
          // Любой компонент может считать её, вне зависимости от того как глубоко она находится.
          // В данном примере, мы передаем "dark" как текущее значение.
          return (
            &lt;ThemeContext.Provider value="dark">
              &lt;Toolbar />
            &lt;/ThemeContext.Provider>
          );
        }
      }

      // Промежуточному компоненту необязательно
      // явно передавать тему кому-либо далее.
      function Toolbar(props) {
        return (
          &lt;div>
            &lt;ThemedButton />
          &lt;/div>
        );
      }

      function ThemedButton(props) {
        // Используйте Consumer, чтобы считать текущий контекст темы.
        // React будет искать выше ближайший поставщик (Provider) темы и использует его значение.
        // В данном примере текущая тема имеет значение "dark".
        return (
          &lt;ThemeContext.Consumer>
            {theme => &lt;Button {...props} theme={theme} />}
          &lt;/ThemeContext.Consumer>
        );
      }
    </code></pre>

    <div class="warning">
        <p><b>Внимание!</b></p>
        <p>Не используйте контекст, чтобы избежать передачи свойств на несколько уровней ниже. Реальная необходимость
            возникает в случаях, когда одни и те же данные должны быть доступны во многих компонентах на разных
            уровнях.</p>
    </div>

    <div class="lr-btn">
        <button class="atuin-btn" onclick="window.location.href = '../../advanced/reconciliation/index.html';"><i class="fa fa-chevron-circle-left" aria-hidden="true"> </i><span>_</span>Назад</button>
        <button class="atuin-btn" onclick="window.location.href = '../../advanced/fragments/index.html';">Далее<span>_</span><i class="fa fa-chevron-circle-right" aria-hidden="true"></i> </button>
    </div>

</div>

</body>
</html>